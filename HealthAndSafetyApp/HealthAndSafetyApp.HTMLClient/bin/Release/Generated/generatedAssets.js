window.myapp=msls.application,function(n){function f(n){i.call(this,n)}function o(n){i.call(this,n)}function e(n){i.call(this,n)}function s(n){i.call(this,n)}function c(n){i.call(this,n)}function l(n){i.call(this,n)}function h(n){i.call(this,n)}function a(n){i.call(this,n)}function v(n){y.call(this,n)}function k(){p.call(this)}var i=msls.Entity,y=msls.DataService,p=msls.DataWorkspace,r=msls._defineEntity,w=msls._defineDataService,b=msls._defineDataWorkspace,t=msls.DataServiceQuery,u=msls._toODataString;msls._addToNamespace("msls.application",{HealthAndSafetyIncident:r(f,[{name:"Id",type:Number},{name:"Reference",type:String},{name:"ReportedBy",kind:"reference",type:o},{name:"IncidentDate",type:Date},{name:"IncidentDescription",type:String},{name:"IncidentStatus",kind:"reference",type:a},{name:"HappenedAtWork",type:Boolean},{name:"PersonsInjured",type:Boolean},{name:"IncidentWitnesses",kind:"collection",elementType:h},{name:"ReportedTo",kind:"reference",type:o},{name:"TargetInvestigationDate",type:Date},{name:"IncidentLocation",type:String},{name:"DateReported",type:Date},{name:"AdditionalComments",type:String},{name:"ImmediateAction",type:String},{name:"IncidentPersons",kind:"collection",elementType:e},{name:"InvestigationStart",type:Date},{name:"RootCauseIdentified",type:String},{name:"PreventativeAction",type:String},{name:"CreatedBy",type:String,isReadOnly:!0},{name:"Created",type:Date,isReadOnly:!0},{name:"ModifiedBy",type:String,isReadOnly:!0},{name:"Modified",type:Date,isReadOnly:!0},{name:"RowVersion",type:Array}]),Employee:r(o,[{name:"Id",type:Number},{name:"UserName",type:String},{name:"FirstName",type:String},{name:"LastName",type:String},{name:"Current",type:Boolean},{name:"Email",type:String},{name:"HealthAndSafetyIncidents",kind:"collection",elementType:f},{name:"ReportedByHealthAndSafetyIncidents",kind:"collection",elementType:f},{name:"CreatedBy",type:String,isReadOnly:!0},{name:"Created",type:Date,isReadOnly:!0},{name:"ModifiedBy",type:String,isReadOnly:!0},{name:"Modified",type:Date,isReadOnly:!0},{name:"RowVersion",type:Array}]),IncidentPerson:r(e,[{name:"Id",type:Number},{name:"IncidentPersonSurname",type:String},{name:"IncidentPersonForename",type:String},{name:"Occupation",type:String},{name:"PersonType",kind:"reference",type:s},{name:"InjuryType",kind:"reference",type:c},{name:"IncidentOutcomes",kind:"reference",type:l},{name:"WorkDaysLost",type:Number},{name:"HealthAndSafetyIncident",kind:"reference",type:f},{name:"CreatedBy",type:String,isReadOnly:!0},{name:"Created",type:Date,isReadOnly:!0},{name:"ModifiedBy",type:String,isReadOnly:!0},{name:"Modified",type:Date,isReadOnly:!0},{name:"RowVersion",type:Array}]),PersonType:r(s,[{name:"Id",type:Number},{name:"TypeOfPerson",type:String},{name:"IncidentPersons",kind:"collection",elementType:e},{name:"IncidentWitnesses",kind:"collection",elementType:h},{name:"CreatedBy",type:String,isReadOnly:!0},{name:"Created",type:Date,isReadOnly:!0},{name:"ModifiedBy",type:String,isReadOnly:!0},{name:"Modified",type:Date,isReadOnly:!0},{name:"RowVersion",type:Array}]),InjuryType:r(c,[{name:"Id",type:Number},{name:"Injury",type:String},{name:"IncidentPersons",kind:"collection",elementType:e},{name:"CreatedBy",type:String,isReadOnly:!0},{name:"Created",type:Date,isReadOnly:!0},{name:"ModifiedBy",type:String,isReadOnly:!0},{name:"Modified",type:Date,isReadOnly:!0},{name:"RowVersion",type:Array}]),IncidentOutcome:r(l,[{name:"Id",type:Number},{name:"Outcome",type:String},{name:"IncidentPerson",kind:"collection",elementType:e},{name:"CreatedBy",type:String,isReadOnly:!0},{name:"Created",type:Date,isReadOnly:!0},{name:"ModifiedBy",type:String,isReadOnly:!0},{name:"Modified",type:Date,isReadOnly:!0},{name:"RowVersion",type:Array}]),IncidentWitness:r(h,[{name:"Id",type:Number},{name:"Surname",type:String},{name:"Forename",type:String},{name:"PersonType",kind:"reference",type:s},{name:"Phone",type:String},{name:"EMail",type:String},{name:"Statement",type:String},{name:"StatementDate",type:Date},{name:"HealthAndSafetyIncident",kind:"reference",type:f},{name:"CreatedBy",type:String,isReadOnly:!0},{name:"Created",type:Date,isReadOnly:!0},{name:"ModifiedBy",type:String,isReadOnly:!0},{name:"Modified",type:Date,isReadOnly:!0},{name:"RowVersion",type:Array}]),IncidentStatus:r(a,[{name:"Id",type:Number},{name:"Status",type:String},{name:"StatusType",type:String},{name:"HealthAndSafetyIncident",kind:"collection",elementType:f},{name:"CreatedBy",type:String,isReadOnly:!0},{name:"Created",type:Date,isReadOnly:!0},{name:"ModifiedBy",type:String,isReadOnly:!0},{name:"Modified",type:Date,isReadOnly:!0},{name:"RowVersion",type:Array}]),ApplicationData:w(v,n.rootUri+"/ApplicationData.svc",[{name:"HealthAndSafetyIncidents",elementType:f},{name:"Employees",elementType:o},{name:"IncidentPersons",elementType:e},{name:"PersonTypes",elementType:s},{name:"InjuryTypes",elementType:c},{name:"IncidentOutcomes",elementType:l},{name:"IncidentWitnesses",elementType:h},{name:"IncidentStatuses",elementType:a}],[{name:"HealthAndSafetyIncidents_SingleOrDefault",value:function(i){return new t({_entitySet:this.HealthAndSafetyIncidents},n.rootUri+"/ApplicationData.svc/HealthAndSafetyIncidents(Id="+u(i,"Int32?")+")")}},{name:"Employees_SingleOrDefault",value:function(i){return new t({_entitySet:this.Employees},n.rootUri+"/ApplicationData.svc/Employees(Id="+u(i,"Int32?")+")")}},{name:"IncidentPersons_SingleOrDefault",value:function(i){return new t({_entitySet:this.IncidentPersons},n.rootUri+"/ApplicationData.svc/IncidentPersons(Id="+u(i,"Int32?")+")")}},{name:"PersonTypes_SingleOrDefault",value:function(i){return new t({_entitySet:this.PersonTypes},n.rootUri+"/ApplicationData.svc/PersonTypes(Id="+u(i,"Int32?")+")")}},{name:"InjuryTypes_SingleOrDefault",value:function(i){return new t({_entitySet:this.InjuryTypes},n.rootUri+"/ApplicationData.svc/InjuryTypes(Id="+u(i,"Int32?")+")")}},{name:"IncidentOutcomes_SingleOrDefault",value:function(i){return new t({_entitySet:this.IncidentOutcomes},n.rootUri+"/ApplicationData.svc/IncidentOutcomes(Id="+u(i,"Int32?")+")")}},{name:"IncidentWitnesses_SingleOrDefault",value:function(i){return new t({_entitySet:this.IncidentWitnesses},n.rootUri+"/ApplicationData.svc/IncidentWitnesses(Id="+u(i,"Int32?")+")")}},{name:"IncidentStatuses_SingleOrDefault",value:function(i){return new t({_entitySet:this.IncidentStatuses},n.rootUri+"/ApplicationData.svc/IncidentStatuses(Id="+u(i,"Int32?")+")")}},{name:"IncidentsReportedToMe",value:function(){return new t({_entitySet:this.HealthAndSafetyIncidents},n.rootUri+"/ApplicationData.svc/IncidentsReportedToMe()",{})}},{name:"OpenIncidents",value:function(){return new t({_entitySet:this.HealthAndSafetyIncidents},n.rootUri+"/ApplicationData.svc/OpenIncidents()",{})}},{name:"ReverseOrderedIncidents",value:function(){return new t({_entitySet:this.HealthAndSafetyIncidents},n.rootUri+"/ApplicationData.svc/ReverseOrderedIncidents()",{})}},{name:"IncidentPersonsThisMonth",value:function(){return new t({_entitySet:this.IncidentPersons},n.rootUri+"/ApplicationData.svc/IncidentPersonsThisMonth()",{})}},{name:"IncidentsThisMonth",value:function(){return new t({_entitySet:this.HealthAndSafetyIncidents},n.rootUri+"/ApplicationData.svc/IncidentsThisMonth()",{})}}]),DataWorkspace:b(k,[{name:"ApplicationData",type:v}])})}(msls.application),function(n){function f(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"AddEditEmployee",i)}function e(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"AddEditHealthAndSafetyIncident",i)}function o(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"AddEditIncidentOutcome",i)}function s(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"AddEditIncidentPerson",i)}function h(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"AddEditIncidentStatus",i)}function c(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"AddEditIncidentWitness",i)}function l(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"AddEditInjuryType",i)}function a(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"AddEditPersonType",i)}function v(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"BrowseEmployees",i)}function y(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"BrowseHealthAndSafetyIncidents",i)}function p(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"BrowseIncidentOutcomes",i)}function w(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"BrowseIncidentsReportedToMe",i)}function b(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"BrowseIncidentStatuses",i)}function k(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"BrowseInjuryTypes",i)}function d(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"BrowseOpenIncidents",i)}function g(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"BrowsePersonTypes",i)}function nt(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"Home",i)}function tt(i,r){r||(r=new n.DataWorkspace),t.call(this,r,"MobileHome",i)}var t=msls.Screen,i=msls._defineScreen,it=msls.DataServiceQuery,u=msls._toODataString,r=msls._defineShowScreen;msls._addToNamespace("msls.application",{AddEditEmployee:i(f,[{name:"Employee",kind:"local",type:n.Employee}],[]),AddEditHealthAndSafetyIncident:i(e,[{name:"HealthAndSafetyIncident",kind:"local",type:n.HealthAndSafetyIncident},{name:"IncidentWitnesses",kind:"collection",elementType:n.IncidentWitness,getNavigationProperty:function(){return this.owner.HealthAndSafetyIncident?this.owner.HealthAndSafetyIncident.details.properties.IncidentWitnesses:null},appendQuery:function(){return this.expand("PersonType")}},{name:"IncidentPersons",kind:"collection",elementType:n.IncidentPerson,getNavigationProperty:function(){return this.owner.HealthAndSafetyIncident?this.owner.HealthAndSafetyIncident.details.properties.IncidentPersons:null},appendQuery:function(){return this.expand("PersonType").expand("InjuryType").expand("IncidentOutcomes")}}],[]),AddEditIncidentOutcome:i(o,[{name:"IncidentOutcome",kind:"local",type:n.IncidentOutcome}],[]),AddEditIncidentPerson:i(s,[{name:"IncidentPerson",kind:"local",type:n.IncidentPerson}],[]),AddEditIncidentStatus:i(h,[{name:"IncidentStatus",kind:"local",type:n.IncidentStatus}],[]),AddEditIncidentWitness:i(c,[{name:"IncidentWitness",kind:"local",type:n.IncidentWitness}],[]),AddEditInjuryType:i(l,[{name:"InjuryType",kind:"local",type:n.InjuryType}],[]),AddEditPersonType:i(a,[{name:"PersonType",kind:"local",type:n.PersonType}],[]),BrowseEmployees:i(v,[{name:"Employees",kind:"collection",elementType:n.Employee,createQuery:function(n){return this.dataWorkspace.ApplicationData.Employees.filter("("+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", UserName)")+" or "+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", FirstName)")+") or "+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", LastName)")+"")}},{name:"Search",kind:"local",type:String}],[]),BrowseHealthAndSafetyIncidents:i(y,[{name:"HealthAndSafetyIncidents",kind:"collection",elementType:n.HealthAndSafetyIncident,createQuery:function(n){return this.dataWorkspace.ApplicationData.HealthAndSafetyIncidents.filter("("+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", Reference)")+" or "+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", IncidentDescription)")+") or "+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", IncidentStatus/Status)")+"").orderByDescending("IncidentDate").expand("ReportedTo").expand("IncidentStatus")}},{name:"Search",kind:"local",type:String}],[]),BrowseIncidentOutcomes:i(p,[{name:"IncidentOutcomes",kind:"collection",elementType:n.IncidentOutcome,createQuery:function(n){return this.dataWorkspace.ApplicationData.IncidentOutcomes.filter(""+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", Outcome)")+"")}},{name:"Search",kind:"local",type:String}],[]),BrowseIncidentsReportedToMe:i(w,[{name:"IncidentsReportedToMe",kind:"collection",elementType:n.HealthAndSafetyIncident,createQuery:function(n){return this.dataWorkspace.ApplicationData.IncidentsReportedToMe().filter("("+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", Reference)")+" or "+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", IncidentDescription)")+") or "+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", IncidentStatus/Status)")+"").orderByDescending("IncidentDate").expand("IncidentStatus")}},{name:"Search",kind:"local",type:String}],[]),BrowseIncidentStatuses:i(b,[{name:"IncidentStatuses",kind:"collection",elementType:n.IncidentStatus,createQuery:function(n){return this.dataWorkspace.ApplicationData.IncidentStatuses.filter(""+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", Status)")+" or "+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", StatusType)")+"")}},{name:"Search",kind:"local",type:String}],[]),BrowseInjuryTypes:i(k,[{name:"InjuryTypes",kind:"collection",elementType:n.InjuryType,createQuery:function(n){return this.dataWorkspace.ApplicationData.InjuryTypes.filter(""+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", Injury)")+"")}},{name:"Search",kind:"local",type:String}],[]),BrowseOpenIncidents:i(d,[{name:"OpenIncidents",kind:"collection",elementType:n.HealthAndSafetyIncident,createQuery:function(n){return this.dataWorkspace.ApplicationData.OpenIncidents().filter("("+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", Reference)")+" or "+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", IncidentDescription)")+") or "+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", IncidentStatus/Status)")+"").orderBy("IncidentDate").expand("ReportedTo").expand("IncidentStatus")}},{name:"Search",kind:"local",type:String}],[]),BrowsePersonTypes:i(g,[{name:"PersonTypes",kind:"collection",elementType:n.PersonType,createQuery:function(n){return this.dataWorkspace.ApplicationData.PersonTypes.filter(""+(n===undefined||n===null?"true":"substringof("+u(n,"String?")+", TypeOfPerson)")+"")}},{name:"Search",kind:"local",type:String}],[]),Home:i(nt,[{name:"DaysSinceLastIncident",kind:"local",type:String},{name:"WorkDaysLostThisMonth",kind:"local",type:String},{name:"NumberOfIncidentsThisMonth",kind:"local",type:String},{name:"NumberOfOpenIncidents",kind:"local",type:String}],[{name:"ShowBrowseHealthAndSafetyIncidents_Tap"},{name:"ShowBrowseIncidentsReportedToMe_Tap"},{name:"ShowBrowseOpenIncidents_Tap"}]),MobileHome:i(tt,[{name:"DaysSinceLastIncident",kind:"local",type:String},{name:"WorkDaysLostThisMonth",kind:"local",type:String},{name:"NumberOfIncidentsThisMonth",kind:"local",type:String},{name:"NumberOfOpenIncidents",kind:"local",type:String}],[{name:"ShowBrowseHealthAndSafetyIncidents_Tap"},{name:"ShowBrowseIncidentsReportedToMe_Tap"},{name:"ShowBrowseOpenIncidents_Tap"}]),showAddEditEmployee:r(function(t,i){var r=Array.prototype.slice.call(arguments,0,1);return n.showScreen("AddEditEmployee",r,i)}),showAddEditHealthAndSafetyIncident:r(function(t,i){var r=Array.prototype.slice.call(arguments,0,1);return n.showScreen("AddEditHealthAndSafetyIncident",r,i)}),showAddEditIncidentOutcome:r(function(t,i){var r=Array.prototype.slice.call(arguments,0,1);return n.showScreen("AddEditIncidentOutcome",r,i)}),showAddEditIncidentPerson:r(function(t,i){var r=Array.prototype.slice.call(arguments,0,1);return n.showScreen("AddEditIncidentPerson",r,i)}),showAddEditIncidentStatus:r(function(t,i){var r=Array.prototype.slice.call(arguments,0,1);return n.showScreen("AddEditIncidentStatus",r,i)}),showAddEditIncidentWitness:r(function(t,i){var r=Array.prototype.slice.call(arguments,0,1);return n.showScreen("AddEditIncidentWitness",r,i)}),showAddEditInjuryType:r(function(t,i){var r=Array.prototype.slice.call(arguments,0,1);return n.showScreen("AddEditInjuryType",r,i)}),showAddEditPersonType:r(function(t,i){var r=Array.prototype.slice.call(arguments,0,1);return n.showScreen("AddEditPersonType",r,i)}),showBrowseEmployees:r(function(t){var i=Array.prototype.slice.call(arguments,0,0);return n.showScreen("BrowseEmployees",i,t)}),showBrowseHealthAndSafetyIncidents:r(function(t){var i=Array.prototype.slice.call(arguments,0,0);return n.showScreen("BrowseHealthAndSafetyIncidents",i,t)}),showBrowseIncidentOutcomes:r(function(t){var i=Array.prototype.slice.call(arguments,0,0);return n.showScreen("BrowseIncidentOutcomes",i,t)}),showBrowseIncidentsReportedToMe:r(function(t){var i=Array.prototype.slice.call(arguments,0,0);return n.showScreen("BrowseIncidentsReportedToMe",i,t)}),showBrowseIncidentStatuses:r(function(t){var i=Array.prototype.slice.call(arguments,0,0);return n.showScreen("BrowseIncidentStatuses",i,t)}),showBrowseInjuryTypes:r(function(t){var i=Array.prototype.slice.call(arguments,0,0);return n.showScreen("BrowseInjuryTypes",i,t)}),showBrowseOpenIncidents:r(function(t){var i=Array.prototype.slice.call(arguments,0,0);return n.showScreen("BrowseOpenIncidents",i,t)}),showBrowsePersonTypes:r(function(t){var i=Array.prototype.slice.call(arguments,0,0);return n.showScreen("BrowsePersonTypes",i,t)}),showHome:r(function(t){var i=Array.prototype.slice.call(arguments,0,0);return n.showScreen("Home",i,t)}),showMobileHome:r(function(t){var i=Array.prototype.slice.call(arguments,0,0);return n.showScreen("MobileHome",i,t)})})}(msls.application),myapp.AddEditEmployee.created=function(n){var t,i;n.Employee.LastName!==undefined?(t=n.Employee.LastName,i=n.Employee.FirstName,n.details.displayName="Edit "+i+" "+t):n.details.displayName="Add New Employee",n.findContentItem("DetailsTab").isReadOnly=myapp.permissions["LightSwitchApplication:CanEditEmployees"]?!1:!0},myapp.AddEditHealthAndSafetyIncident.created=function(n){var t,i;n.HealthAndSafetyIncident.Reference!==undefined?(t=n.HealthAndSafetyIncident.IncidentDate,i=n.HealthAndSafetyIncident.Reference,n.details.displayName="Incident "+i+" on "+t.toLocaleDateString()):n.details.displayName="Add new H&S Incident",myapp.permissions["LightSwitchApplication:CanEditHealthAndSafetyIncidents"]?(n.findContentItem("DetailsTab").isReadOnly=!1,n.findContentItem("IncidentPersons").isReadOnly=!1,n.findContentItem("IncidentWitnesses").isReadOnly=!1,n.findContentItem("ImmediateActionGroup").isReadOnly=!1,n.findContentItem("AdditionalCommentGroup").isReadOnly=!1,n.findContentItem("AddIncidentPerson").isEnabled=!0,n.findContentItem("AddIncidentWitness").isEnabled=!0):(n.findContentItem("DetailsTab").isReadOnly=!0,n.findContentItem("IncidentPersons").isReadOnly=!0,n.findContentItem("IncidentWitnesses").isReadOnly=!0,n.findContentItem("ImmediateActionGroup").isReadOnly=!0,n.findContentItem("AdditionalCommentGroup").isReadOnly=!0,n.findContentItem("AddIncidentPerson").isEnabled=!1,n.findContentItem("AddIncidentWitness").isEnabled=!1),n.HealthAndSafetyIncident.ReportedTo!==undefined&&$.inArray(n.HealthAndSafetyIncident.ReportedTo.UserName,myapp.currentUserArray)==0&&(n.findContentItem("InvestigationGroup").isVisible=!0)},myapp.AddEditIncidentOutcome.created=function(n){var t;n.IncidentOutcome.Outcome!==undefined?(t=n.IncidentOutcome.Outcome,n.details.displayName="Edit "+t):n.details.displayName="Add New Incident Outcome",n.findContentItem("DetailsTab").isReadOnly=myapp.permissions["LightSwitchApplication:CanEditIncidentOutcomes"]?!1:!0},myapp.AddEditIncidentPerson.created=function(n){n.findContentItem("DetailsTab").isReadOnly=myapp.permissions["LightSwitchApplication:CanEditIncidentPersons"]?!1:!0},myapp.AddEditIncidentStatus.created=function(n){var t;n.IncidentStatus.Status!==undefined?(t=n.IncidentStatus.Status,n.details.displayName="Edit "+t):n.details.displayName="Add New Incident Status",n.findContentItem("DetailsTab").isReadOnly=myapp.permissions["LightSwitchApplication:CanEditIncidentStatuses"]?!1:!0},myapp.AddEditIncidentWitness.created=function(n){n.findContentItem("DetailsTab").isReadOnly=myapp.permissions["LightSwitchApplication:CanEditIncidentWitnesses"]?!1:!0},myapp.AddEditInjuryType.created=function(n){var t;n.InjuryType.Injury!==undefined?(t=n.InjuryType.Injury,n.details.displayName="Edit "+t):n.details.displayName="Add New Injury Type",n.findContentItem("DetailsTab").isReadOnly=myapp.permissions["LightSwitchApplication:CanEditInjuryTypes"]?!1:!0},myapp.AddEditPersonType.created=function(n){var t;n.PersonType.TypeOfPerson!==undefined?(t=n.PersonType.TypeOfPerson,n.details.displayName="Edit "+persn):n.details.displayName="Add New Person Type",n.findContentItem("DetailsTab").isReadOnly=myapp.permissions["LightSwitchApplication:CanEditPersonTypes"]?!1:!0},myapp.BrowseEmployees.created=function(n){n.findContentItem("AddEmployee").isEnabled=myapp.permissions["LightSwitchApplication:CanEditEmployees"]?!0:!1},myapp.BrowseHealthAndSafetyIncidents.created=function(n){n.findContentItem("AddHealthAndSafetyIncident").isEnabled=myapp.permissions["LightSwitchApplication:CanEditHealthAndSafetyIncidents"]?!0:!1},myapp.BrowseIncidentOutcomes.created=function(n){n.findContentItem("AddIncidentOutcome").isEnabled=myapp.permissions["LightSwitchApplication:CanEditIncidentOutcomes"]?!0:!1},myapp.BrowseIncidentStatuses.created=function(n){n.findContentItem("AddIncidentStatus").isEnabled=myapp.permissions["LightSwitchApplication:CanEditIncidentStatuses"]?!0:!1},myapp.BrowseInjuryTypes.created=function(n){n.findContentItem("AddInjuryType").isEnabled=myapp.permissions["LightSwitchApplication:CanEditInjuryTypes"]?!0:!1},myapp.BrowsePersonTypes.created=function(n){n.findContentItem("AddPersonType").isEnabled=myapp.permissions["LightSwitchApplication:CanEditPersonTypes"]?!0:!1},myapp.Home.created=function(n){$.getJSON("../UserPermissions/UserPermissions/",function(n){myapp.permissions=n}),$.getJSON("../CurrentUser/CurrentUser/",function(n){myapp.currentUserArray=n}),myapp.activeDataWorkspace.ApplicationData.HealthAndSafetyIncidents.orderByDescending("IncidentDate").top(1).execute().then(function(t){n.DaysSinceLastIncident=DaysSinceLastIncident(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentsThisMonth().execute().then(function(t){n.NumberOfIncidentsThisMonth=IncidentsThisMonth(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentPersonsThisMonth().execute().then(function(t){n.WorkDaysLostThisMonth=WorkingDaysLost(t).toString()}),myapp.activeDataWorkspace.ApplicationData.OpenIncidents().execute().then(function(t){n.NumberOfOpenIncidents=OpenIncidents(t).toString()})},myapp.Home.ShowBrowseHealthAndSafetyIncidents_postRender=function(n){$(n).find("a").addClass("delordson-menu-style").css({"background-image":"url(Content/Images/FirstAidKit.png)"})},myapp.Home.ShowBrowseIncidentsReportedToMe_postRender=function(n){$(n).find("a").addClass("delordson-menu-style").css({"background-image":"url(Content/Images/Stethoscope.png)"})},myapp.Home.ShowBrowseOpenIncidents_postRender=function(n){$(n).find("a").addClass("delordson-menu-style").css({"background-image":"url(Content/Images/Ambulance.png)"})},myapp.Home.ShowBrowseEmployees_postRender=function(n){$(n).find("a").addClass("delordson-menu-style").css({"background-image":"url(Content/Images/Employees.png)"})},myapp.Home.ShowBrowseIncidentOutcomes_postRender=function(n){$(n).find("a").addClass("delordson-menu-style").css({"background-image":"url(Content/Images/Doctor.png)"})},myapp.Home.ShowBrowseIncidentStatuses_postRender=function(n){$(n).find("a").addClass("delordson-menu-style").css({"background-image":"url(Content/Images/Danger.png)"})},myapp.Home.ShowBrowseInjuryTypes_postRender=function(n){$(n).find("a").addClass("delordson-menu-style").css({"background-image":"url(Content/Images/BandAid.png)"})},myapp.Home.ShowBrowsePersonTypes_postRender=function(n){$(n).find("a").addClass("delordson-menu-style").css({"background-image":"url(Content/Images/Person.png)"})},myapp.Home.DaysSinceLastIncident_postRender=function(n){$(n).addClass("delordson-stats-style"),$(n).css("color","green"),$(n).find("div").css("height","75px"),$(n).find("div").css("padding-top","25px")},myapp.Home.WorkDaysLostThisMonth_postRender=function(n){$(n).addClass("delordson-stats-style"),$(n).css("color","red"),$(n).find("div").css("height","75px"),$(n).find("div").css("padding-top","25px")},myapp.Home.NumberOfIncidentsThisMonth_postRender=function(n){$(n).addClass("delordson-stats-style"),$(n).css("color","blue"),$(n).find("div").css("height","75px"),$(n).find("div").css("padding-top","25px")},myapp.Home.NumberOfOpenIncidents_postRender=function(n){$(n).addClass("delordson-stats-style"),$(n).css("color","orange"),$(n).find("div").css("height","75px"),$(n).find("div").css("padding-top","25px")},myapp.Home.ShowBrowseHealthAndSafetyIncidents_Tap_execute=function(n){myapp.showBrowseHealthAndSafetyIncidents({afterClosed:function(){myapp.activeDataWorkspace.ApplicationData.HealthAndSafetyIncidents.orderByDescending("IncidentDate").top(1).execute().then(function(t){n.DaysSinceLastIncident=DaysSinceLastIncident(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentsThisMonth().execute().then(function(t){n.NumberOfIncidentsThisMonth=IncidentsThisMonth(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentPersonsThisMonth().execute().then(function(t){n.WorkDaysLostThisMonth=WorkingDaysLost(t).toString()}),myapp.activeDataWorkspace.ApplicationData.OpenIncidents().execute().then(function(t){n.NumberOfOpenIncidents=OpenIncidents(t).toString()})}})},myapp.Home.ShowBrowseIncidentsReportedToMe_Tap_execute=function(n){myapp.showBrowseIncidentsReportedToMe({afterClosed:function(){myapp.activeDataWorkspace.ApplicationData.HealthAndSafetyIncidents.orderByDescending("IncidentDate").top(1).execute().then(function(t){n.DaysSinceLastIncident=DaysSinceLastIncident(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentsThisMonth().execute().then(function(t){n.NumberOfIncidentsThisMonth=IncidentsThisMonth(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentPersonsThisMonth().execute().then(function(t){n.WorkDaysLostThisMonth=WorkingDaysLost(t).toString()}),myapp.activeDataWorkspace.ApplicationData.OpenIncidents().execute().then(function(t){n.NumberOfOpenIncidents=OpenIncidents(t).toString()})}})},myapp.Home.ShowBrowseOpenIncidents_Tap_execute=function(n){myapp.showBrowseOpenIncidents({afterClosed:function(){myapp.activeDataWorkspace.ApplicationData.HealthAndSafetyIncidents.orderByDescending("IncidentDate").top(1).execute().then(function(t){n.DaysSinceLastIncident=DaysSinceLastIncident(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentsThisMonth().execute().then(function(t){n.NumberOfIncidentsThisMonth=IncidentsThisMonth(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentPersonsThisMonth().execute().then(function(t){n.WorkDaysLostThisMonth=WorkingDaysLost(t).toString()}),myapp.activeDataWorkspace.ApplicationData.OpenIncidents().execute().then(function(t){n.NumberOfOpenIncidents=OpenIncidents(t).toString()})}})},myapp.MobileHome.ShowBrowseHealthAndSafetyIncidents_postRender=function(n){$(n).find("a").addClass("delordson-mobile-menu-style").css({"background-image":"url(Content/Images/MobileFirstAidKit.png)"})},myapp.MobileHome.ShowBrowseIncidentsReportedToMe_postRender=function(n){$(n).find("a").addClass("delordson-mobile-menu-style").css({"background-image":"url(Content/Images/MobileStethoscope.png)"})},myapp.MobileHome.ShowBrowseOpenIncidents_postRender=function(n){$(n).find("a").addClass("delordson-mobile-menu-style").css({"background-image":"url(Content/Images/MobileAmbulance.png)"})},myapp.MobileHome.ShowBrowseEmployees_postRender=function(n){$(n).find("a").addClass("delordson-mobile-menu-style").css({"background-image":"url(Content/Images/MobileEmployees.png)"})},myapp.MobileHome.ShowBrowseIncidentOutcomes_postRender=function(n){$(n).find("a").addClass("delordson-mobile-menu-style").css({"background-image":"url(Content/Images/MobileDoctor.png)"})},myapp.MobileHome.ShowBrowseIncidentStatuses_postRender=function(n){$(n).find("a").addClass("delordson-mobile-menu-style").css({"background-image":"url(Content/Images/MobileDanger.png)"})},myapp.MobileHome.ShowBrowseInjuryTypes_postRender=function(n){$(n).find("a").addClass("delordson-mobile-menu-style").css({"background-image":"url(Content/Images/MobileBandAid.png)"})},myapp.MobileHome.ShowBrowsePersonTypes_postRender=function(n){$(n).find("a").addClass("delordson-mobile-menu-style").css({"background-image":"url(Content/Images/MobilePerson.png)"})},myapp.MobileHome.DaysSinceLastIncident_postRender=function(n){$(n).addClass("delordson-mobile-stats-style"),$(n).css("color","green"),$(n).find("div").css("height","50px"),$(n).find("div").css("padding-top","25px")},myapp.MobileHome.WorkDaysLostThisMonth_postRender=function(n){$(n).addClass("delordson-mobile-stats-style"),$(n).css("color","red"),$(n).find("div").css("height","50px"),$(n).find("div").css("padding-top","25px")},myapp.MobileHome.NumberOfIncidentsThisMonth_postRender=function(n){$(n).addClass("delordson-mobile-stats-style"),$(n).css("color","blue"),$(n).find("div").css("height","50px"),$(n).find("div").css("padding-top","25px")},myapp.MobileHome.NumberOfOpenIncidents_postRender=function(n){$(n).addClass("delordson-mobile-stats-style"),$(n).css("color","orange"),$(n).find("div").css("height","50px"),$(n).find("div").css("padding-top","25px")},myapp.MobileHome.created=function(n){$.getJSON("../UserPermissions/UserPermissions/",function(n){myapp.permissions=n}),myapp.activeDataWorkspace.ApplicationData.HealthAndSafetyIncidents.orderByDescending("IncidentDate").top(1).execute().then(function(t){n.DaysSinceLastIncident=DaysSinceLastIncident(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentsThisMonth().execute().then(function(t){n.NumberOfIncidentsThisMonth=IncidentsThisMonth(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentPersonsThisMonth().execute().then(function(t){n.WorkDaysLostThisMonth=WorkingDaysLost(t).toString()}),myapp.activeDataWorkspace.ApplicationData.OpenIncidents().execute().then(function(t){n.NumberOfOpenIncidents=OpenIncidents(t).toString()})},myapp.MobileHome.ShowBrowseHealthAndSafetyIncidents_Tap_execute=function(n){myapp.showBrowseHealthAndSafetyIncidents({afterClosed:function(){myapp.activeDataWorkspace.ApplicationData.HealthAndSafetyIncidents.orderByDescending("IncidentDate").top(1).execute().then(function(t){n.DaysSinceLastIncident=DaysSinceLastIncident(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentsThisMonth().execute().then(function(t){n.NumberOfIncidentsThisMonth=IncidentsThisMonth(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentPersonsThisMonth().execute().then(function(t){n.WorkDaysLostThisMonth=WorkingDaysLost(t).toString()}),myapp.activeDataWorkspace.ApplicationData.OpenIncidents().execute().then(function(t){n.NumberOfOpenIncidents=OpenIncidents(t).toString()})}})},myapp.MobileHome.ShowBrowseIncidentsReportedToMe_Tap_execute=function(n){myapp.showBrowseIncidentsReportedToMe({afterClosed:function(){myapp.activeDataWorkspace.ApplicationData.HealthAndSafetyIncidents.orderByDescending("IncidentDate").top(1).execute().then(function(t){n.DaysSinceLastIncident=DaysSinceLastIncident(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentsThisMonth().execute().then(function(t){n.NumberOfIncidentsThisMonth=IncidentsThisMonth(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentPersonsThisMonth().execute().then(function(t){n.WorkDaysLostThisMonth=WorkingDaysLost(t).toString()}),myapp.activeDataWorkspace.ApplicationData.OpenIncidents().execute().then(function(t){n.NumberOfOpenIncidents=OpenIncidents(t).toString()})}})},myapp.MobileHome.ShowBrowseOpenIncidents_Tap_execute=function(n){myapp.showBrowseOpenIncidents({afterClosed:function(){myapp.activeDataWorkspace.ApplicationData.HealthAndSafetyIncidents.orderByDescending("IncidentDate").top(1).execute().then(function(t){n.DaysSinceLastIncident=DaysSinceLastIncident(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentsThisMonth().execute().then(function(t){n.NumberOfIncidentsThisMonth=IncidentsThisMonth(t).toString()}),myapp.activeDataWorkspace.ApplicationData.IncidentPersonsThisMonth().execute().then(function(t){n.WorkDaysLostThisMonth=WorkingDaysLost(t).toString()}),myapp.activeDataWorkspace.ApplicationData.OpenIncidents().execute().then(function(t){n.NumberOfOpenIncidents=OpenIncidents(t).toString()})}})};